<ng-include ng-if="isEmptyConversation || isNewConversation" src="'features/conversations/partials/_empty-conversation.html'"></ng-include><div ng-repeat="message in conversation | orderBy:'created_at'" ng-class="{ 'margin-message-with-program': showInfo &amp;&amp; message.program_name, 'margin-message-without-program': showInfo &amp;&amp; !message.program_name}" class="message-wrapper"><div ng-class="{ 'left': currentUser.id !== message.sender_id, 'right': currentUser.id === message.sender_id }" class="chat-bubble"><div ng-show="message.attachment.url" class="message-attachment"><img ng-src="{{ message.attachment.url }}" alt=" "></div><div ng-show="message.video_id" class="message-attachment"><div ng-if="message.video_id &amp;&amp; !message.video_url" class="gc-video-uploading">Video was uploaded and is being processing<br>Please check it in 2 minutes</div><iframe ng-if="message.video_url" ng-src="{{ message.video_url }}" frameborder="0" width="225" height="155" allowfullscreen=""></iframe></div><div ng-show="message.body" class="message">{{message.body}}</div><div class="message-detail"><span am-time-ago="message.created_at"></span><img ng-show="message.message_category == 2 &amp;&amp; !commentsState.visible" ng-click="showInfo = !showInfo" src="img/icons/empty_pages/workout.png"></div><div ng-class="{ 'visible-info' : showInfo }" ng-show="message.program_name" class="gc-event-info"><div class="icon side-menu-icon-workout"></div>{{message.program_name}}</div><div ng-class="{ 'gc-workout-info': message.program_name, 'visible-info' : showInfo }" class="gc-event-info gc-info-bordered"><div class="icon side-menu-icon-program"></div>{{message.workout_name}}</div></div><div class="cf"></div></div>